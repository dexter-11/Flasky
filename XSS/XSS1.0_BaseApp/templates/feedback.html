<!-- feedback.html -->
{% extends 'base.html' %}
{% block content %}
<h2>Feedback Wall (Stored XSS)</h2>
<form method="post">
  <label>Write feedback (HTML/JS allowed here on purpose)</label>
  <textarea name="content" rows="4" placeholder="e.g., <b>Hello</b> or <script>alert(1)</script>"></textarea>
  <div class="spacer"></div>
  <button>Post</button>
</form>

<div class="spacer"></div>
<h3>Messages</h3>
{% if items %}
  {% for fb in items %}
    <div class="feedback">
      <div class="muted">by {{ fb.author }}</div>
      <div>{{ fb.content | safe }}</div>
      <form method="post" style="margin-top:8px">
        <input type="hidden" name="delete_id" value="{{ fb.id }}">
        <button>Delete</button>
      </form>
    </div>
    <div class="spacer"></div>
  {% endfor %}
{% else %}
  <p class="muted">No feedback yet.</p>
{% endif %}
{% endblock %}

